<dom-module id="fa-sharethis">
  <style>
      :host {
          display: inline-block;
          padding: 10px;
      }
      :host(:hover) div.text {
          display : block;
      }
      :host div.text {
          display : none;
      }
  </style>
  <template>

      <div>
          <a id="facebook" target="_blank">
              <img src="/images/facebook_32.png" border="0" />
          </a>
          <a id="google" target="_blank">
              <img src="/images/googleplus_32.png" border="0" />
          </a>
          <a id="twitter" target="_blank">
              <img src="/images/twitter_32.png" border="0" />
          </a>
          <a id="reddit" target="_blank">
              <img src="/images/reddit_32.png" border="0" />
          </a>
      </div>
      <div class="text">Share This Comic!</div>
  </template>
</dom-module>

<script>
    Polymer({
      is : 'fa-sharethis',

      ready : function() {
        this.hash = '';
        this.encoded = '';

        this.roots = {
          facebook : 'https://www.facebook.com/sharer/sharer.php?u=',
          google : 'https://plus.google.com/share?hl=en-US&url=',
          twitter : 'https://twitter.com/intent/tweet?text=&source=faunacartoon&related=faunacartoon&via=faunacartoon&url=',
          reddit : 'http://www.reddit.com/submit?url='
        }

        this.updateHash();
        $(window).on('hashchange', this.updateHash.bind(this));
      },

      updateHash : function() {
          this.async(function(){
              this.encoded = encodeURIComponent(window.location.href);

              this.$.facebook.setAttribute('href', this.roots.facebook+this.encoded);
              this.$.google.setAttribute('href', this.roots.google+this.encoded);
              this.$.twitter.setAttribute('href', this.roots.twitter+this.encoded);
              this.$.reddit.setAttribute('href', this.roots.redit+this.encoded+'&title='+window.document.title);
          });
      }
  });
</script>
